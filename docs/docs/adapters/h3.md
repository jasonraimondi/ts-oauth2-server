# h3

:::info

Available in >4.3.0

:::

This adapter provides utility functions to convert between [h3](https://h3.dev/) `H3Event` objects and the `OAuthRequest`/`OAuthResponse` objects used by this package. Works with any h3-based framework including [Nuxt](https://nuxt.com/), [Nitro](https://nitro.build/), and standalone h3 applications.

## Functions

```ts
requestFromH3(event: H3Event): Promise<OAuthRequest>
```

```ts
responseFromH3(event: H3Event): OAuthResponse
```

```ts
handleH3Response(event: H3Event, oauthResponse: OAuthResponse): void
```

```ts
handleH3Error(e: unknown | OAuthException, event: H3Event): void
```

## Example

```ts
import { requestFromH3, handleH3Response, handleH3Error } from "@jmondi/oauth2-server/h3";

export default defineEventHandler(async (event) => {
  try {
    const oauthResponse = await authorizationServer.respondToAccessTokenRequest(
      await requestFromH3(event),
    );
    return handleH3Response(event, oauthResponse);
  } catch (e) {
    return handleH3Error(e, event);
  }
});
```
